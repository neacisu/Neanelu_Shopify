#!/bin/sh
set -e

# ============================================
# PRE-COMMIT HOOK (Husky 9+ format)
# ============================================

echo 'ğŸ“ Running lint-staged...'
pnpm lint-staged

echo 'ğŸ” Running typecheck...'
pnpm typecheck

# Optional: Run DB schema pre-commit tests if database is available
# Uncomment the following lines to enable DB schema verification on commit
# if [ -n "$DATABASE_URL" ]; then
#   echo 'ğŸ—„ï¸  Running DB schema pre-commit tests...'
#   pnpm db:test:precommit || {
#     echo 'âŒ DB schema tests failed!'
#     exit 1
#   }
# fi

echo 'âœ… Pre-commit checks passed!'
